{"mappings":"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","sources":["src/app.js"],"sourcesContent":["\n  const formActions = document.querySelector(\"#form-actions\");\n  const account = document.querySelector(\"#account\");\n  const accountUsername = document.querySelector(\"#account p\");\n  const loader = document.querySelector('#loader');\n  const formSign = document.querySelector('#form-signup');\n  const formLog = document.querySelector('#form-login');\n  const errorContainer = document.querySelector(\".error\");\n  const errorM = document.querySelector(\"#error-message\");\n  const logoutBnt = document.querySelector(\"#logoutBtn\");\n\n\n  const getUser = () => {\n    const parsed = JSON.parse(window.localStorage.getItem(\"user\"));\n    return parsed;\n  }\n\n\n const handleSign = (e) => {\n  e.preventDefault();\n  errorContainer.style.display = 'none';\n\n  const { name, lastname, email, password, password2 } = formSign.elements;\n\n  const users = JSON.parse(window.localStorage.getItem(\"users\"));\n\n  const existingEmail = users.find((u) => u.email === email.value);\n\n  if(existingEmail){\n    // show error message: existing email\n    errorM.textContent = \"El correo ya existe\";\n    errorContainer.style.display = 'block';\n  } else {\n    if (password.value === password2.value) {\n      users.push({name: name.value, lastname: lastname.value, email: email.value, password: password.value});\n      window.localStorage.setItem('users', JSON.stringify(users));\n\n      window.location.href = './login.html';\n\n    } else {\n      // show error message: password missmatch\n      errorM.textContent = \"Las contraseñas no coinciden\";\n      errorContainer.style.display = 'block';\n    }\n  }\n\n}\n\n\nconst handleLogin = (e) => {\n  e.preventDefault();\n  errorContainer.style.display = 'none';\n\n  const { email, password } = formLog.elements;\n\n  const users = JSON.parse(window.localStorage.getItem(\"users\"));\n\n  const user = users.find((u) => u.email === email.value);\n\n  if(!user){\n    // show error message: existing email\n    errorM.textContent = \"El correo no existe\";\n    errorContainer.style.display = 'block';\n  } else {\n    if (user.password === password.value) {\n      window.localStorage.setItem('user', JSON.stringify(user));\n\n      window.location.href = './index.html';\n\n    } else {\n      // show error message: password missmatch\n      errorM.textContent = \"Contraseña incorrecta\";\n      errorContainer.style.display = 'block';\n    }\n  }\n}\n\nconst handleLogout = (e) => {\n  loader.style.display = 'none';\n  window.localStorage.setItem('user', JSON.stringify({}));\n  window.location.href = 'index.html';\n}\n\n  const initializeLocalStorage = () => {\n    const users = window.localStorage.getItem(\"users\");\n    const user = window.localStorage.getItem(\"user\");\n\n    if(users === null){\n      window.localStorage.setItem(\"users\", JSON.stringify([]));\n    }\n\n    if(user === null) {\n      window.localStorage.setItem('user', JSON.stringify({}));\n    }\n\n  }\n\n  const startLoading = () => {\n    const user = getUser();\n    \n    if (formActions && account) {\n      if(user.email || user.name){\n        accountUsername.textContent = user.name;\n        formActions.style.display = 'none';\n      } else {\n        account.style.display = 'none';\n      }\n    }\n\n    return new Promise(function (resolve, reject) {\n      setTimeout(function(){ resolve()}, 2000);\n    });\n  };\n\n  const main = async () => {\n    initializeLocalStorage();\n\n    if(formSign) formSign.addEventListener('submit', handleSign);\n    if(formLog) formLog.addEventListener('submit', handleLogin);\n    if(logoutBnt) logoutBnt.addEventListener('click', handleLogout);\n\n    await startLoading();\n    loader.style.display = 'none';\n  }\n\n\n  main();\n\n  let swiper = new Swiper(\".mySwiper\", {\n    slidesPerView: 3,\n    spaceBetween: 40,\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n  });"],"names":[],"version":3,"file":"index.816e7b21.js.map","sourceRoot":"/__parcel_source_root/"}